{"version":3,"file":"signIn.js","sources":["../../src/client/signIn.ts"],"sourcesContent":["export async function signIn(provider, data, config) {\r\n    if (data) {\r\n        const path = mergePath([\"/api/auth\", config?.basePath ?? null], `/callback/${provider}`);\r\n        const res = await fetch(path, {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(data),\r\n        });\r\n        return await res.json();\r\n    }\r\n    let redirectUrl;\r\n    if (config?.redirectUrl) {\r\n        redirectUrl = config.redirectUrl;\r\n    }\r\n    else {\r\n        let $val;\r\n        if ($val) {\r\n            redirectUrl = `${$val.url.host}${$val.url.pathname}?${$val.url.searchParams}`;\r\n        }\r\n    }\r\n    const queryData = {\r\n        redirect: redirectUrl ?? \"/\",\r\n    };\r\n    const query = new URLSearchParams(queryData);\r\n    const path = mergePath([\"/api/auth\", config?.basePath ?? null], `/signin/${provider}?${query}`);\r\n    return path;\r\n}\r\n"],"names":[],"mappings":";;;;sBAA6B,UAAU,MAAM,QAAQ;AACjD,MAAI,MAAM;AACN,UAAM,QAAO,UAAU,CAAC,aAAa,QAAQ,YAAY,OAAO,aAAa;AAC7E,UAAM,MAAM,MAAM,MAAM,OAAM;AAAA,MAC1B,QAAQ;AAAA,MACR,SAAS;AAAA,QACL,gBAAgB;AAAA;AAAA,MAEpB,MAAM,KAAK,UAAU;AAAA;AAEzB,WAAO,MAAM,IAAI;AAAA;AAErB,MAAI;AACJ,MAAI,QAAQ,aAAa;AACrB,kBAAc,OAAO;AAAA;AAQzB,QAAM,YAAY;AAAA,IACd,UAAU,eAAe;AAAA;AAE7B,QAAM,QAAQ,IAAI,gBAAgB;AAClC,QAAM,OAAO,UAAU,CAAC,aAAa,QAAQ,YAAY,OAAO,WAAW,YAAY;AACvF,SAAO;AAAA;;;;"}